<!-- Spinner Start -->
<div
  id="spinner"
  class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center"
>
  <div
    class="spinner-border text-primary"
    style="width: 3rem; height: 3rem"
    role="status"
  >
    <span class="sr-only">Loading...</span>
  </div>
</div>
<!-- Spinner End -->

<!-- Sidebar Start -->
<div class="sidebar pe-4 pb-3">
  <nav class="navbar bg-light navbar-light">
    <a href="/admin/index" class="navbar-brand mx-4 mb-3">
      <h3 class="text-primary"><i class="me-2"></i>Ink Touch</h3>
    </a>
    <div class="d-flex align-items-center ms-4 mb-4">
      <div class="position-relative">
        <label for="profile-picture-input">
          <!-- Check if the admin object has an image -->

          <% if (user && user.image && user.image.imageUrl) { %>
          <img
            class="rounded-circle p-1"
            src="<%= user.image.imageUrl %>"
            alt="Image"
            width="80"
            height="80"
          />
          <% } else { %>
          <div style="position: relative; cursor: pointer">
            <img
              class="rounded-circle p-1 bg-warning"
              style="background-color: #009cff !important"
              src="https://bootdey.com/img/Content/avatar/avatar5.png"
              alt="image"
              width="60"
              height="60"
            />
          </div>
          <% } %>
        </label>

        <input
          type="file"
          name="image"
          id="profile-picture-input"
          style="display: none"
          data-url="/admin/uploadAdminImage"
        />
      </div>

      <div class="ms-3">
        <h6 class="mb-0"><%-user.name %></h6>
        <span><%-user.role %></span>
      </div>
    </div>
    <div class="navbar-nav w-100">
      <a href="/admin/index" class="nav-item nav-link active"
        ><i class="fa fa-tachometer-alt me-2"></i>Dashboard</a
      >

      <div class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"
          ><i class="fa fa-user me-2"></i>Users</a
        >
        <div class="dropdown-menu bg-transparent border-0">
          <a href="/admin/add-user" class="nav-link dropdown-item"
            ><i class="fa fa-user me-2"></i>Add User</a
          >
          <a href="/admin/all-user" class="nav-link dropdown-item"
            ><i class="fa fa-user me-2"></i>All User</a
          >
        </div>
      </div>
      <div class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"
          ><i class="fa fa-th me-2"></i>Materials</a
        >
        <div class="dropdown-menu bg-transparent border-0">
          <a href="/admin/add-product" class="nav-link dropdown-item"
            ><i class="fa fa-th me-2"></i>Add New</a
          >
          <a href="/admin/all-product" class="nav-link dropdown-item"
            ><i class="fa fa-th me-2"></i>View All
          </a>
        </div>
      </div>

      <div class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"
          ><i class="fa fa-th me-2"></i>Request
          <span class="countBox"> <%= requestCount %></span></a
        >
        <div class="dropdown-menu bg-transparent border-0">
          <a href="/admin/request" class="nav-link dropdown-item"
            ><i class="fa fa-th me-2"></i>New Request</a
          >
          <a href="/admin/accept-request" class="nav-link dropdown-item"
            ><i class="fa fa-th me-2"></i>Accepted Request</a
          >

          <a href="/admin/reject-request" class="nav-link dropdown-item"
            ><i class="fa fa-th me-2"></i>Rejected Request</a
          >
        </div>
      </div>

      <div class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"
          ><i class="fa fa-share-square me-2"></i>Return
          <span class="countBox"> <%= returnCount %></span></a
        >
        <div class="dropdown-menu bg-transparent border-0">
          <a href="/admin/all-return" class="nav-link dropdown-item"
            ><i class="fa fa-share-square me-2"></i>Pending</a
          >
          <a href="/admin/accept-return" class="nav-link dropdown-item"
            ><i class="fa fa-share-square me-2"></i>Accepted</a
          >

          <a href="/admin/reject-return" class="nav-link dropdown-item"
            ><i class="fa fa-share-square me-2"></i>Rejected</a
          >
        </div>
      </div>

      <div class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"
          ><i class="fa fa-trash me-2"></i>Wastage
          <span class="countBox"> <%= wasteCount %></span></a
        >
        <div class="dropdown-menu bg-transparent border-0">
          <a href="/admin/all-Wastage" class="nav-link dropdown-item"
            ><i class="fa fa-trash me-2"></i>Pending</a
          >
          <a href="/admin/accept-Wastage" class="nav-link dropdown-item"
            ><i class="fa fa-trash me-2"></i>Accepted</a
          >

          <a href="/admin/reject-Wastage" class="nav-link dropdown-item"
            ><i class="fa fa-trash me-2"></i>Rejected</a
          >
        </div>
      </div>

      <div class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"
          ><i class="fa fa-flag me-2"></i>Report Page</a
        >
        <div class="dropdown-menu bg-transparent border-0">
          <a href="/admin/search-report" class="nav-link dropdown-item"
            ><i class="fa fa-flag me-2"></i>Search Report</a
          >
        </div>
      </div>

      <a href="/admin/message" class="nav-item nav-link" style="cursor: pointer"
        ><i class="fa fa-comments me-2"></i>Messaging</a
      >

      <a
        data-url="/admin/logout"
        class="nav-item nav-link signOutLink"
        style="cursor: pointer"
        ><i class="fa fa-power-off me-2"></i>Log out</a
      >
    </div>
  </nav>
</div>
<!-- Sidebar End -->
